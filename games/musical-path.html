<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>El Camino Musical</title>
  <link rel="stylesheet" href="./../css/musical-path.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <div id="preloader">
    <div class="hero-overlay">
      <br>
      <br>
      <img src="./../images/logos/catarsis.png" alt="Logo Musical Path" class="logo" style="margin-top: -180px; position: absolute; left: 50%; transform: translateX(-50%); width: 100px; z-index: 100;" />
      <h1 style="margin-top: -80px; font-size: 5rem; margin-bottom: -10px; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; color: var(--primary)">EL&nbsp;CAMINO</h1>
      <h5 style="font-size: 1.2rem; font-family: Verdana, Geneva, Tahoma, sans-serif;">¬°Descubramos juntos el mundo de la improvisaci√≥n musical!</h5>
      <h1 style="font-size: 5rem; margin-top: -10px; font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; color: var(--primary)">MUSICAL</h1>
      <a style="font-size: 1.5rem;" class="btn">Trailer ‚ñ∂Ô∏è</a> &nbsp;
      <a style="font-size: 1.5rem;" class="btn btn2">Jugar üé≤</a>
    </div>
    <img src="./../images/childrens.png" width="80%" style="max-width: 600px; position: absolute; bottom: 0;" alt="">
  </div>


  <header class="hero">
    <video autoplay muted loop playsinline class="hero-video">
      <source src="./../images/banner.mp4" type="video/mp4">
      Tu navegador no soporta video HTML5.
    </video>
    <div class="hero-overlay">
            <br>
      <br>

      <img src="./../images/logos/catarsis.png" alt="Logo Musical Path" class="logo" style="margin-top: -180px; position: absolute; left: 50%; transform: translateX(-50%); width: 100px; z-index: 100;" />
      <h1 style="margin-top: -50px; font-size: 5rem; margin-bottom: -10px; margin-top: -80px;">EL&nbsp;CAMINO</h1>
      <h5 style="font-size: 1.2rem; font-family: Verdana, Geneva, Tahoma, sans-serif;">¬°Descubramos juntos el mundo de la improvisaci√≥n musical!</h5>
      <h1 style="font-size: 5rem; margin-top: -10px; ">MUSICAL</h1>
      <a style="font-size: 1.5rem;" id="openTrailerBtn" href="javascript:void(0);" class="btn">Trailer ‚ñ∂Ô∏è</a> &nbsp;
      <a style="font-size: 1.5rem;" id="playGameBtn" href="javascript:void(0);" class="btn btn2">Jugar üé≤</a>
    </div>
  </header>

  <section class="floating-section" style="margin-top: -142px;">
    <img style="margin-top: -33px; margin-bottom: -36px; width: 100%; max-width: 200px; position: relative; z-index: 200;" src="./../images/1.png" alt="Ni√±os usando tablets" class="img" />
  </section>

  <hr>

  <section>
    <div class="head">
      <h2 style="color: var(--primary);">Instrucciones del Juego</h2>
      <strong style="font-family: Verdana, Geneva, Tahoma, sans-serif;">¬°Aprende y divi√©rtete con el Camino Musical! Aqu√≠ te mostramos c√≥mo jugar:</strong>

      <div class="controls">
        <button id="prev" class="nav-btn" aria-label="Prev">‚Äπ</button>
        <button id="next" class="nav-btn" aria-label="Next">‚Ä∫</button>
      </div>
    </div>

    <div class="slider">
      <div class="track" id="track">


        <article class="project-card" data-index="0">
          <img class="project-card__bg" src="./../images/instructions/5.jpg" alt="">
          <div class="project-card__content">
            <img class="project-card__thumb" src="./../images/instructions/5.jpg" alt="">
            <div>
              <h3 class="project-card__title">¬øC√≥mo se juega?</h3>
              <p class="project-card__desc">Reglas b√°sicas para tu aventura musical.</p>
              <!-- <button class="project-card__btn">Abrir...</button> -->
            </div>
          </div>
        </article>

        <article class="project-card" data-index="1" active>
          <img class="project-card__bg" src="./../images/instructions/1.jpg" alt="">
          <div class="project-card__content">
            <img class="project-card__thumb" src="./../images/instructions/1.jpg" alt="">
            <div>
              <h3 class="project-card__title">Descubre grados musicales</h3>
              <p class="project-card__desc">Aprende teor√≠a musical mientras te diviertes.</p>
              <!-- <button class="project-card__btn">Abrir...</button> -->
            </div>
          </div>
        </article>

        <article class="project-card" data-index="2">
          <img class="project-card__bg" src="./../images/instructions/2.jpg" alt="">
          <div class="project-card__content">
            <img class="project-card__thumb" src="./../images/instructions/2.jpg" alt="">
            <div>
              <h3 class="project-card__title">¬°Lanza los dados!</h3>
              <p class="project-card__desc">Notas, colores y diversi√≥n en cada jugada.</p>
              <!-- <button class="project-card__btn">Abrir...</button> -->
            </div>
          </div>
        </article>

        <article class="project-card" data-index="3">
          <img class="project-card__bg" src="./../images/instructions/3.jpg" alt="">
          <div class="project-card__content">
            <img class="project-card__thumb" src="./../images/instructions/3.jpg" alt="">
            <div>
              <h3 class="project-card__title">¬°Reta a tus amigos!</h3>
              <p class="project-card__desc">Compite en el tablero y mejora tus habilidades musicales.</p>
              <!-- <button class="project-card__btn">Abrir...</button> -->
            </div>
          </div>
        </article>

        <article class="project-card" data-index="4">
          <img class="project-card__bg" src="./../images/instructions/4.jpg" alt="">
          <div class="project-card__content">
            <img class="project-card__thumb" src="./../images/instructions/4.jpg" alt="">
            <div>
              <h3 class="project-card__title">¬°Domina el tablero!</h3>
              <p class="project-card__desc">Aprende y conquista el camino musical.</p>
              <!-- <button class="project-card__btn">Abrir...</button> -->
            </div>
          </div>
        </article>

      </div>
    </div>

    <div class="dots" id="dots"></div>
    <div style="text-align: center; margin-bottom: -35px;">
      <img src="./../images/childrens.png" width="80%" style="max-width: 350px;" alt="">
    </div>

    
  </section>

  <hr>

   <section class="section showcase">
    <h2 style="color: var(--primary); font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">Explora el Camino Musical</h2>
    <strong style="font-family: Verdana, Geneva, Tahoma, sans-serif;">¬°Descubre nuestros productos exclusivos!</strong>
    <br/>
    <br/>
    
    <div class="">
      <a style="font-size: 1.5rem;" href="https://catarsismusical.bigcartel.com/" target="_blank" class="btn"> <strong style="color: var(--primary)">üõí Catarsis Musical tienda </strong> üõçÔ∏è en l√≠nea üò±</a>
    </div>

    <br/>
    <br/>

   <div class="cards">
    <div class="card" onclick="openModal(0)">
      <span class="price-badge">‚Ç°30.000</span>
      <img src="./../images/eBook.jpeg" alt="Libro" />
      <h3>Libro Educativo</h3>
      <p>Improvisaci√≥n musical basada en cuerdas (Empirismo y Mnemotecnia): La m√∫sica es geometr√≠a en el tiempo.</p>
      <a style="color: var(--primary);" href="https://catarsismusical.bigcartel.com/" target="_blank" class="btn">Ir a tienda en linea</a>
      <a class="buy-btn" href="https://wa.me/506XXXXXXXX?text=Hola%2C%20quiero%20comprar%20el%20Libro%20Educativo%20%F0%9F%93%96.%20Cantidad%3A%201" target="_blank">Comprar por WhatsApp</a>
    </div>

    <div class="card" onclick="openModal(1)">
      <span class="price-badge">‚Ç°16.000</span>
      <img src="./../images/black-shirt.png" alt="Camiseta" />
      <h3>Merch Oficial</h3>
      <p>Dise√±os √∫nicos para mostrar tus emociones musicales.</p>
      <a style="color: var(--primary);" href="https://catarsismusical.bigcartel.com/" target="_blank" class="btn">Ir a tienda en linea</a>
      <a class="buy-btn" href="https://wa.me/506XXXXXXXX?text=Hola%2C%20quiero%20comprar%20Merch%20Oficial%20%F0%9F%91%95.%20Cantidad%3A%201" target="_blank">Comprar por WhatsApp</a>
    </div>

    <div class="card" onclick="openModal(2)">
      <span class="price-badge">‚Ç°35.000</span>
      <img src="./../images/box.png" alt="Juego" />
      <h3>Juego de Mesa</h3>
      <p>Aprende los grados musicales con nuestro juego de mesa exclusivo para toda la familia.</p>
      <a style="color: var(--primary);" href="https://catarsismusical.bigcartel.com/" target="_blank" class="btn">Ir a tienda en linea</a>
      <a class="buy-btn" href="https://wa.me/506XXXXXXXX?text=Hola%2C%20quiero%20comprar%20el%20Juego%20de%20Mesa%20%F0%9F%8E%AF.%20Cantidad%3A%201" target="_blank">Comprar por WhatsApp</a>
    </div>
  </div>

    
    <!-- Modal -->
    <div class="modal" id="modal">
      <div class="modal-content" id="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="modal-body"></div>
      </div>
    </div>
  </section>

  <section class="cta">
    <h2 style="font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">üì≤ ¬°Versi√≥n digital gratuita!</h2>
    <br/>
    <p style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Explora el juego desde tu <a target="_blank" style="color:purple; text-transform: uppercase; font-weight: bolder;" href="https://josegomez-dev.github.io/MusicalPath/">computadora</a> o <a style="color: var(--accent); font-weight: bolder;" href="https://play.google.com/store/apps/details?id=com.americapixelgames.musicalpath">DISPOSITIVO M√ìVIL</a> y disfruta de una experiencia musical √∫nica.</p>
      <a style="font-size: 1.5rem;" target="_blank" href="https://www.youtube.com/watch?v=a2musNj58J0" class="btn">Trailer ‚ñ∂Ô∏è</a> &nbsp;
      <a id="playGameBtn2" href="javascript:void(0);" style="font-size: 1.5rem;" class="btn btn2">Jugar üé≤</a>
      <br/>
      <br/>
      <strong>¬°Aprende m√∫sica de forma divertida!</strong>
      <br/>
      <br/>
      <img onclick="window.open(`https://americapixelgames.com/`, '_blank')" src="./../images/america.png" width="100px" alt="" style="cursor: pointer; ">
      <!-- üëá Avatar Image -->
      <div class="avatar-wrapper">
        <!-- üí¨ Speech bubble -->
        <div class="speech-bubble" style="font-family: Verdana, Geneva, Tahoma, sans-serif;">¬°Hola, ya probaste <strong style="font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; text-transform: uppercase; color: var(--accent);">el camino musical</strong>?!</div>
        <!-- üßë Avatar -->
        <img src="./../images/avatar.png" alt="Avatar diciendo hola" class="avatar-hi" />
      </div>

  </section>


  <footer>

    <a href="https://josegomez-dev.github.io/catarsismusical/welcome.html" target="_blank" class="logo-link">
      <img width="250" style="margin: -55px 0;" src="./../images/logos/doradeogomez.png" alt="Logo Musical Path" class="logo" />
    </a>
    <p>Hecho con ‚ù§Ô∏è por <a style="color: var(--accent)" href="https://www.linkedin.com/in/josealejandrogomezcastro/">Jos√© Alejandro G√≥mez Castro</a></p>
    <div class="social">
      <a href="https://wa.me/50662402974" target="_blank"><i class="fab fa-whatsapp"></i></a>
      <a href="https://www.facebook.com/profile.php?id=61553836722791" target="_blank"><i class="fab fa-facebook"></i></a>
      <a href="https://www.instagram.com/alegomez.cr/" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://www.youtube.com/@catarsismusical"><i class="fab fa-youtube" style="color: red;"></i></a>
    </div>
  </footer>

  <!-- Fullscreen Modal for Instructions -->
  <div class="fullscreen-modal" id="fullscreenModal">
    <span class="close" onclick="closeFullscreenModal()">&times;</span>
    <div class="fullscreen-slider" id="fullscreenSlider">
      <img id="fullscreenImage" src="" alt="Instrucci√≥n" />
      <div class="fullscreen-nav">
        <button onclick="changeInstruction(-1)">üëà</button>
        <button onclick="changeInstruction(1)">üëâ</button>
      </div>
    </div>
  </div>

  <script>
    // === Core Buttons ===
    document.getElementById("openTrailerBtn").addEventListener("click", () => {
      openModal(2);
    });

    document.getElementById("playGameBtn").addEventListener("click", () => {
      // redirect on a new tab
      window.open("https://josegomez-dev.github.io/MusicalPath/", "_blank");
    });
    document.getElementById("playGameBtn2").addEventListener("click", () => {
      // redirect on a new tab
      window.open("https://josegomez-dev.github.io/MusicalPath/", "_blank");
    });

    // === Modal L√≥gica ===
    const modal = document.getElementById("modal");
    const modalBody = document.getElementById("modal-body");

    function openModal(index) {
      const contents = [
        `
        <h2>üìñ Libro Educativo</h2>
        <p style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Este libro acompa√±a el juego e introduce conceptos como geometr√≠a sagrada musical, escalas y juegos para improvisar.</p>
        <img src="./../images/eBook.jpeg" style="width:100%; border-radius:10px; margin-top:1rem;" />
        <p class="pdt-note">Disponible en formato digital y f√≠sico.</p>
        <a style="color: var(--primary);" href="https://online.pubhtml5.com/sllt/aukj/" target="_blank" class="btn">Descargar eBook Gratis</a> &nbsp;&nbsp;
        <a href="#" onclick="sendWhatsAppOrder('Libro: Improvisaci√≥n musical basada en cuerdas (Empirismo y Mnemotecnia): La m√∫sica es geometr√≠a en el tiempo.')" class="btn" style="background-color: #25d366; color: white; margin-top: 0.5rem;">Comprar por WhatsApp</a>
        `,
        `
        <h2>üëï Camiseta Oficial</h2>
        <p style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Una camiseta original con emociones musicales. Disponible en tallas para ni√±os, j√≥venes y adultos.</p>
        <img src="./../images/black-shirt.png" style="width:100%; border-radius:10px; margin-top:1rem;" />
        <p class="pdt-note">Disponible en varias tallas y colores.</p>
        <a style="color: var(--primary);" href="https://catarsismusical.bigcartel.com/" target="_blank" class="btn">Ir a tienda en linea</a> &nbsp;&nbsp;
        <a href="#" onclick="sendWhatsAppOrder('Camiseta Oficial')" class="btn" style="background-color: #25d366; color: white; margin-top: 0.5rem;">Comprar por WhatsApp</a>
        `,
        `
        <div>
          <h2>üé¨ Trailer del Juego</h2>
          <p style="font-family: Verdana, Geneva, Tahoma, sans-serif;">¬°Explora el universo del Camino Musical con este video!</p>
          <img src="./../images/box.png" style="width:100%; border-radius:10px; margin-top:1rem;" />
          <iframe src="https://www.youtube.com/embed/a2musNj58J0"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            style="position:absolute; top:0; left:0; width:100%; height:100%;">
          </iframe>
          <div style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:12px; margin-top:1rem;">
              <footer style="position: fixed; bottom: 0; width: 100%; left: 0; right: 0;">
                <p>Hecho con ‚ù§Ô∏è por Jos√© Alejandro G√≥mez Castro</p>
                <div class="social">
                  <a href="https://wa.me/50662402974" target="_blank"><i class="fab fa-whatsapp"></i></a>
                  <a href="https://www.facebook.com/profile.php?id=61553836722791" target="_blank"><i class="fab fa-facebook"></i></a>
                  <a href="https://www.instagram.com/alegomez.cr/" target="_blank"><i class="fab fa-instagram"></i></a>
                  <a href="https://www.youtube.com/@catarsismusical"><i class="fab fa-youtube" style="color: red;"></i></a>
                </div>
              </footer>
          </div>
        </div>
        `
      ];

      modalBody.innerHTML = contents[index];
      modal.style.display = "flex";
    }

    function closeModal() {
      modal.style.display = "none";
    }

    // === Personajes Aleatorios en Scroll ===
    const characters = [
      "./../images/112.png",
      "./../images/Bobby.png",
      "./../images/221.png"
    ];

    function spawnCharacter() {
      const img = document.createElement("img");
      img.src = characters[Math.floor(Math.random() * characters.length)];
      img.className = "scroll-character";
      img.style.position = "fixed";
      img.style.left = `${Math.random() * 80 + 10}%`;
      img.style.top = `${Math.random() * 60 + 30}%`;
      img.style.width = "80px";
      img.style.zIndex = "1000";
      img.style.animation = "floatUp 4s ease-in-out forwards";
      document.body.appendChild(img);

      setTimeout(() => {
        img.remove();
      }, 4000);
    }

    // window.addEventListener("scroll", () => {
    //   if (Math.random() > 0.92) {
    //     spawnCharacter();
    //   }
    // });

    // === Animaci√≥n flotante personalizada (opcional) ===
    const style = document.createElement("style");
    style.innerHTML = `
    @keyframes floatUp {
      0% { transform: translateY(50px); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(-150px); opacity: 0; }
    }
    `;
    document.head.appendChild(style);

      </script>

      <script>
        (() => {
      const track = document.getElementById("track");
      const wrap = track.parentElement;
      const cards = Array.from(track.children);
      const prev = document.getElementById("prev");
      const next = document.getElementById("next");
      const dotsBox = document.getElementById("dots");

      const isMobile = () => matchMedia("(max-width:767px)").matches;

      cards.forEach((_, i) => {
        const dot = document.createElement("span");
        dot.className = "dot";
        dot.onclick = () => activate(i, true);
        dotsBox.appendChild(dot);
      });
      const dots = Array.from(dotsBox.children);

      let current = 0;

      function center(i) {
        const card = cards[i];
        const axis = isMobile() ? "top" : "left";
        const size = isMobile() ? "clientHeight" : "clientWidth";
        const start = isMobile() ? card.offsetTop : card.offsetLeft;
        wrap.scrollTo({
          [axis]: start - (wrap[size] / 2 - card[size] / 2),
          behavior: "smooth"
        });
      }

      function toggleUI(i) {
        cards.forEach((c, k) => c.toggleAttribute("active", k === i));
        dots.forEach((d, k) => d.classList.toggle("active", k === i));
        prev.disabled = i === 0;
        next.disabled = i === cards.length - 1;
      }

      function activate(i, scroll) {
        if (i === current) return;
        current = i;
        toggleUI(i);
        if (scroll) center(i);
      }

      function go(step) {
        activate(Math.min(Math.max(current + step, 0), cards.length - 1), true);
      }

      prev.onclick = () => go(-1);
      next.onclick = () => go(1);

      addEventListener(
        "keydown",
        (e) => {
          if (["ArrowRight", "ArrowDown"].includes(e.key)) go(1);
          if (["ArrowLeft", "ArrowUp"].includes(e.key)) go(-1);
        },
        { passive: true }
      );

      cards.forEach((card, i) => {
        card.addEventListener(
          "mouseenter",
          () => matchMedia("(hover:hover)").matches && activate(i, true)
        );
        card.addEventListener("click", () => activate(i, true));
      });

      let sx = 0,
        sy = 0;
      track.addEventListener(
        "touchstart",
        (e) => {
          sx = e.touches[0].clientX;
          sy = e.touches[0].clientY;
        },
        { passive: true }
      );

      track.addEventListener(
        "touchend",
        (e) => {
          const dx = e.changedTouches[0].clientX - sx;
          const dy = e.changedTouches[0].clientY - sy;
          if (isMobile() ? Math.abs(dy) > 60 : Math.abs(dx) > 60)
            go((isMobile() ? dy : dx) > 0 ? -1 : 1);
        },
        { passive: true }
      );
      if (window.matchMedia("(max-width:767px)").matches) dotsBox.hidden = true;

      addEventListener("resize", () => center(current));

      toggleUI(0);
      center(0);
    })();

    // === Modal L√≥gica ===
    function closeModal() {
      modal.style.display = "none";
    }

    window.addEventListener("click", function (event) {
      if (event.target === modal) {
        closeModal();
      }
    });

  </script>

  <script>
    const instructionImages = [
      "./../images/instructions/5.jpg",
      "./../images/instructions/1.jpg",
      "./../images/instructions/2.jpg",
      "./../images/instructions/3.jpg",
      "./../images/instructions/4.jpg"
    ];

    let currentInstructionIndex = 0;

    const fullscreenModal = document.getElementById("fullscreenModal");
    const fullscreenImage = document.getElementById("fullscreenImage");

    function openFullscreenModal(index) {
      currentInstructionIndex = index;
      fullscreenImage.src = instructionImages[currentInstructionIndex];
      fullscreenModal.style.display = "flex";
    }

    function closeFullscreenModal() {
      fullscreenModal.style.display = "none";
    }

    function changeInstruction(step) {
      currentInstructionIndex += step;
      if (currentInstructionIndex < 0) currentInstructionIndex = instructionImages.length - 1;
      if (currentInstructionIndex >= instructionImages.length) currentInstructionIndex = 0;
      fullscreenImage.src = instructionImages[currentInstructionIndex];
    }

    // Close on outside click
    window.addEventListener("click", function (event) {
      if (event.target === fullscreenModal) {
        closeFullscreenModal();
      }
    });

    // üéØ Attach click to entire project card
   document.querySelectorAll(".project-card__thumb").forEach(img => {
      img.addEventListener("click", (e) => {
        e.stopPropagation(); // prevent parent click behavior
        const card = img.closest(".project-card");
        const index = parseInt(card.getAttribute("data-index"), 10);
        openFullscreenModal(index);
      });
    });

  </script>

  <script>
    function sendWhatsAppOrder(productName) {
      const qty = document.getElementById('whatsappQty')?.value || 1;
      const phone = "50662402974"; // Your WhatsApp number
      const message = `Hola, quiero comprar: *${productName}*, cantidad: ?. Por favor, env√≠enme m√°s informaci√≥n.`;

      const encodedMessage = encodeURIComponent(message);
      const whatsappURL = `https://wa.me/${phone}?text=${encodedMessage}`;

      window.open(whatsappURL, "_blank");
    }
  </script>

  <script>
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('preloader').style.display = 'none';
      }, 3500); // Should match fade-out duration
    });
  </script>

</body>
</html>